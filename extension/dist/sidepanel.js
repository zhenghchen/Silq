import{r as l,j as e,c as S}from"./client.js";const j=()=>{const[i,c]=l.useState([]),[n,f]=l.useState(""),[o,d]=l.useState("openai"),[p,u]=l.useState(!0);l.useEffect(()=>{(async()=>{try{const s=await chrome.storage.local.get(["apiKeys"]);s.apiKeys&&c(s.apiKeys)}catch(s){console.error("Error loading API keys:",s)}finally{u(!1)}})()},[]);const x=async()=>{if(!n.trim())return;const t={id:Date.now().toString(),provider:o,key:n.trim()},s=[...i,t];c(s),f(""),d("openai");try{await chrome.storage.local.set({apiKeys:s})}catch(a){console.error("Error saving API key:",a)}},h=async t=>{const s=i.filter(a=>a.id!==t);c(s);try{await chrome.storage.local.set({apiKeys:s})}catch(a){console.error("Error deleting API key:",a)}},y=t=>{switch(t){case"openai":return"OpenAI";case"claude":return"Claude";case"gemini":return"Gemini";default:return t}},g=t=>{switch(t){case"openai":return"O";case"claude":return"C";case"gemini":return"G";default:return"?"}},b=t=>{switch(t){case"openai":return"#10a37f";case"claude":return"#d97706";case"gemini":return"#3b82f6";default:return"#6b7280"}},r=t=>t.length<=8?"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢":`${t.substring(0,4)}â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢${t.substring(t.length-4)}`,m=({apiKey:t,onDelete:s})=>e.jsxs("div",{style:{padding:"16px",border:"1px solid #e5e7eb",borderRadius:"8px",backgroundColor:"#ffffff",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"6px",backgroundColor:b(t.provider),display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"600",color:"#ffffff"},children:g(t.provider)}),e.jsxs("div",{children:[e.jsx("h4",{style:{margin:"0",fontSize:"14px",fontWeight:"600",color:"#111827"},children:y(t.provider)}),e.jsx("p",{style:{margin:"0",fontSize:"12px",color:"#6b7280",fontFamily:"monospace"},children:r(t.key)})]})]}),e.jsx("button",{onClick:()=>s(t.id),style:{padding:"6px 12px",border:"1px solid #ef4444",borderRadius:"6px",backgroundColor:"#ffffff",color:"#ef4444",cursor:"pointer",fontSize:"12px",fontWeight:"500",transition:"all 0.2s ease"},onMouseOver:a=>{a.currentTarget.style.backgroundColor="#ef4444",a.currentTarget.style.color="#ffffff"},onMouseOut:a=>{a.currentTarget.style.backgroundColor="#ffffff",a.currentTarget.style.color="#ef4444"},children:"Delete"})]});return p?e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"200px"},children:e.jsx("div",{style:{width:"20px",height:"20px",border:"2px solid #e5e7eb",borderTop:"2px solid #7c3aed",borderRadius:"50%",animation:"spin 1s linear infinite"}})}):e.jsxs("div",{children:[e.jsx("h2",{style:{margin:"0 0 24px 0",fontSize:"20px",fontWeight:"600",color:"#111827"},children:"API Key Management"}),e.jsxs("div",{style:{marginBottom:"32px",padding:"20px",border:"1px solid #e5e7eb",borderRadius:"8px",backgroundColor:"#f9fafb"},children:[e.jsx("h3",{style:{margin:"0 0 16px 0",fontSize:"16px",fontWeight:"600",color:"#111827"},children:"Add New API Key"}),e.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"flex-end"},children:[e.jsxs("div",{style:{flex:"0 0 120px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"12px",fontWeight:"500",color:"#374151"},children:"Provider"}),e.jsxs("select",{value:o,onChange:t=>d(t.target.value),style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",fontFamily:"inherit",backgroundColor:"#ffffff"},children:[e.jsx("option",{value:"openai",children:"OpenAI"}),e.jsx("option",{value:"claude",children:"Claude"}),e.jsx("option",{value:"gemini",children:"Gemini"})]})]}),e.jsxs("div",{style:{flex:"1",minWidth:"0"},children:[e.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"12px",fontWeight:"500",color:"#374151"},children:"API Key"}),e.jsx("input",{type:"password",value:n,onChange:t=>f(t.target.value),placeholder:"Paste your API key here",style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",fontFamily:"inherit",backgroundColor:"#ffffff",boxSizing:"border-box"}})]}),e.jsx("button",{onClick:x,disabled:!n.trim(),style:{padding:"8px 16px",backgroundColor:n.trim()?"#7c3aed":"#f3f4f6",color:n.trim()?"#ffffff":"#9ca3af",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:n.trim()?"pointer":"not-allowed",transition:"all 0.2s ease"},children:"Save Key"})]})]}),e.jsxs("div",{children:[e.jsx("h2",{style:{margin:"0 0 16px 0",fontSize:"18px",fontWeight:"600",color:"#111827"},children:"Active API Keys"}),i.length===0?e.jsx("div",{style:{padding:"24px",textAlign:"center",color:"#6b7280",backgroundColor:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"8px"},children:e.jsx("p",{style:{margin:"0",fontSize:"14px"},children:"You have no saved API keys."})}):e.jsx("div",{children:i.map(t=>e.jsx(m,{apiKey:t,onDelete:h},t.id))})]}),e.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})},k=()=>{const[i,c]=l.useState("api-keys"),n=[{id:"api-keys",label:"API Keys",icon:"ðŸ”‘"}],f=()=>{switch(i){case"api-keys":return e.jsx(j,{});default:return e.jsx(j,{})}};return e.jsxs("div",{style:{height:"100vh",display:"flex",backgroundColor:"#ffffff",color:"#1f2937",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans", Helvetica, Arial, sans-serif',fontSize:"14px",lineHeight:"1.5"},children:[e.jsxs("div",{style:{width:"220px",flexShrink:0,borderRight:"1px solid #e0e0e0",backgroundColor:"#f9fafb",display:"flex",flexDirection:"column"},children:[e.jsx("div",{style:{padding:"16px",borderBottom:"1px solid #e5e7eb",backgroundColor:"#ffffff"},children:e.jsx("h1",{style:{margin:"0",fontSize:"16px",fontWeight:"600",color:"#111827"},children:"Settings"})}),e.jsx("nav",{style:{padding:"8px",flex:"1"},children:n.map(o=>e.jsxs("button",{onClick:()=>c(o.id),style:{width:"100%",padding:"12px 16px",marginBottom:"4px",border:"none",borderRadius:"8px",backgroundColor:i===o.id?"#7c3aed":"transparent",color:i===o.id?"#ffffff":"#374151",fontSize:"14px",fontWeight:i===o.id?"500":"400",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",transition:"all 0.2s ease",textAlign:"left"},onMouseOver:d=>{i!==o.id&&(d.currentTarget.style.backgroundColor="#f3f4f6")},onMouseOut:d=>{i!==o.id&&(d.currentTarget.style.backgroundColor="transparent")},children:[e.jsx("span",{style:{fontSize:"16px"},children:o.icon}),o.label]},o.id))})]}),e.jsx("div",{style:{flex:"1",overflowY:"auto",padding:"24px"},children:f()})]})},w=()=>{const[i,c]=l.useState([]),[n,f]=l.useState(""),[o,d]=l.useState(!1),[p,u]=l.useState("chat"),x=l.useRef(null),h=l.useRef(null),y=()=>{var r;(r=x.current)==null||r.scrollIntoView({behavior:"smooth"})};l.useEffect(()=>{y()},[i]);const g=async r=>{if(r.preventDefault(),!n.trim()||o)return;const m={id:Date.now().toString(),role:"user",content:n.trim(),timestamp:new Date};c(t=>[...t,m]),f(""),d(!0),setTimeout(()=>{const t={id:(Date.now()+1).toString(),role:"assistant",content:"This is a placeholder response. The AI API integration will be added next.",timestamp:new Date};c(s=>[...s,t]),d(!1)},1e3)},b=r=>{r.key==="Enter"&&!r.shiftKey&&(r.preventDefault(),g(r))};return e.jsxs("div",{style:{height:"100vh",display:"flex",flexDirection:"column",backgroundColor:"#ffffff",color:"#1f2937",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans", Helvetica, Arial, sans-serif',fontSize:"14px",lineHeight:"1.5"},children:[e.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid #e5e7eb",backgroundColor:"#f9fafb",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx("div",{style:{display:"flex",alignItems:"center"},children:e.jsx("img",{src:"icons/logo-header.png",style:{width:"24px",height:"24px"}})}),e.jsx("button",{onClick:()=>u(p==="chat"?"settings":"chat"),style:{padding:"8px",border:"none",borderRadius:"6px",backgroundColor:"transparent",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"background-color 0.2s ease"},onMouseOver:r=>r.currentTarget.style.backgroundColor="#f3f4f6",onMouseOut:r=>r.currentTarget.style.backgroundColor="transparent",children:p==="chat"?e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#6b7280",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}):e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#6b7280",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M19 12H5M12 19l-7-7 7-7"})})})]}),p==="chat"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{flex:"1",overflowY:"auto",padding:"16px",display:"flex",flexDirection:"column",gap:"16px"},children:[i.length===0&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",color:"#6b7280",textAlign:"center",gap:"16px"},children:[e.jsx("div",{style:{width:"48px",height:"48px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("img",{src:"icons/logo-welcome.png",style:{width:"48px",height:"48px"}})}),e.jsxs("div",{children:[e.jsx("h3",{style:{margin:"0 0 4px 0",fontSize:"16px",color:"#111827"},children:"Welcome to Silq AI"}),e.jsx("p",{style:{margin:"0",fontSize:"14px"},children:"Your AI-powered writing assistant"})]})]}),i.map(r=>e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:e.jsxs("div",{style:{alignSelf:r.role==="user"?"flex-end":"flex-start",maxWidth:"85%"},children:[e.jsx("div",{style:{backgroundColor:r.role==="user"?"#7c3aed":"#f3f4f6",color:r.role==="user"?"#ffffff":"#374151",borderRadius:"12px",padding:"8px 12px",border:r.role==="user"?"none":"1px solid #e5e7eb"},children:e.jsx("div",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word",lineHeight:"1.5",fontSize:"14px"},children:r.content})}),e.jsx("div",{style:{fontSize:"11px",color:"#9ca3af",marginTop:"4px",textAlign:r.role==="user"?"right":"left",paddingLeft:r.role==="user"?"0":"4px",paddingRight:r.role==="user"?"4px":"0"},children:r.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},r.id)),o&&e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:e.jsx("div",{style:{alignSelf:"flex-start",maxWidth:"85%"},children:e.jsxs("div",{style:{backgroundColor:"#f3f4f6",borderRadius:"12px",padding:"8px 12px",border:"1px solid #e5e7eb",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("div",{style:{width:"14px",height:"14px",border:"2px solid #d1d5db",borderTop:"2px solid #7c3aed",borderRadius:"50%",animation:"spin 1s linear infinite"}}),e.jsx("span",{style:{color:"#6b7280",fontSize:"14px"},children:"Thinking..."})]})})}),e.jsx("div",{ref:x})]}),e.jsx("div",{style:{padding:"16px",borderTop:"1px solid #e5e7eb",backgroundColor:"#f9fafb"},children:e.jsxs("form",{onSubmit:g,style:{display:"flex",flexDirection:"column",gap:"8px"},children:[e.jsxs("div",{style:{position:"relative",border:"1px solid #d1d5db",borderRadius:"8px",backgroundColor:"#ffffff",transition:"border-color 0.2s ease"},children:[e.jsx("textarea",{ref:h,value:n,onChange:r=>f(r.target.value),onKeyDown:b,placeholder:"Ask me anything about your writing...",disabled:o,style:{width:"100%",minHeight:"44px",maxHeight:"120px",padding:"12px 16px",backgroundColor:"transparent",border:"none",outline:"none",color:"#374151",fontSize:"14px",lineHeight:"1.5",resize:"none",fontFamily:"inherit",boxSizing:"border-box"}}),e.jsx("button",{type:"submit",disabled:!n.trim()||o,style:{position:"absolute",right:"8px",bottom:"8px",width:"28px",height:"28px",borderRadius:"6px",border:"none",backgroundColor:n.trim()&&!o?"#7c3aed":"#f3f4f6",color:n.trim()&&!o?"white":"#9ca3af",cursor:n.trim()&&!o?"pointer":"not-allowed",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",transition:"background-color 0.2s ease"},children:"â†’"})]}),e.jsx("div",{style:{fontSize:"11px",color:"#9ca3af",textAlign:"center"},children:"Press Enter to send, Shift+Enter for new line"})]})})]}):e.jsx(k,{}),e.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})},v=document.getElementById("root");v&&S(v).render(e.jsx(w,{}));
